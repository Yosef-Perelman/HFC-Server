2023-08-07 14:17:58 ERROR enter webhook func
2023-08-07 14:17:58 INFO request: {'responseId': '7f16e029-36ca-4a6e-88ec-58eddfa2b6cb-75295053', 'queryResult': {'queryText': 'recipe', 'parameters': {'Meal': '', 'Health': '', 'Diet': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.69298947, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3'}
2023-08-07 14:18:01 INFO finish double check. time is: 3.010357141494751
2023-08-07 14:18:01 INFO the response id is different, the request is new
2023-08-07 14:18:01 INFO Enter to 'recipe.request' intent
2023-08-07 14:18:01 INFO start recipe order func
2023-08-07 14:18:03 INFO Passed fill details check
2023-08-07 14:18:03 INFO meal:''
2023-08-07 14:18:03 WARNING meal is not in 'data.meals'.
2023-08-07 14:18:03 INFO health:''
2023-08-07 14:18:03 WARNING health is not in 'data.health_tags'.
2023-08-07 14:18:03 INFO diet:''
2023-08-07 14:18:03 WARNING diet is not in 'data.diet'.
2023-08-07 14:18:03 INFO dish:''
2023-08-07 14:18:03 WARNING dish is not in 'data.dish_types'.
2023-08-07 14:18:03 INFO 127.0.0.1 - - [07/Aug/2023 14:18:03] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:18:03 ERROR enter webhook func
2023-08-07 14:18:03 INFO request: {'responseId': '7f16e029-36ca-4a6e-88ec-58eddfa2b6cb-75295053', 'queryResult': {'queryText': 'recipe', 'parameters': {'Meal': '', 'Health': '', 'Diet': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.69298947, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3'}
2023-08-07 14:18:04 INFO finish double check. time is: 1.1752231121063232
2023-08-07 14:18:04 INFO the response id is equal, the request isn't new
2023-08-07 14:18:04 INFO 127.0.0.1 - - [07/Aug/2023 14:18:04] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:20:01 ERROR enter webhook func
2023-08-07 14:20:01 INFO request: {'responseId': 'b0cb81f2-3b04-4ce7-a230-416b02bdca1d-75295053', 'queryResult': {'queryText': 'recipe', 'parameters': {'Meal': '', 'Health': '', 'Diet': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.69298947, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3'}
2023-08-07 14:20:03 INFO finish double check. time is: 1.486074447631836
2023-08-07 14:20:03 INFO the response id is different, the request is new
2023-08-07 14:20:03 INFO Enter to 'recipe.request' intent
2023-08-07 14:20:03 INFO start recipe order func
2023-08-07 14:20:04 INFO Passed fill details check
2023-08-07 14:20:04 INFO meal:''
2023-08-07 14:20:04 WARNING meal is not in 'data.meals'.
2023-08-07 14:20:04 INFO health:''
2023-08-07 14:20:04 WARNING health is not in 'data.health_tags'.
2023-08-07 14:20:04 INFO diet:''
2023-08-07 14:20:04 WARNING diet is not in 'data.diet'.
2023-08-07 14:20:04 INFO dish:''
2023-08-07 14:20:04 WARNING dish is not in 'data.dish_types'.
2023-08-07 14:20:04 INFO 127.0.0.1 - - [07/Aug/2023 14:20:04] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:21:25 ERROR enter webhook func
2023-08-07 14:21:25 INFO request: {'responseId': '1e95423a-9e51-4d1b-9a54-367e155c61a0-75295053', 'queryResult': {'queryText': 'breakfast', 'parameters': {'Meal': 'Breakfast', 'Health': '', 'Diet': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.44386312, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3'}
2023-08-07 14:21:28 INFO finish double check. time is: 2.676790714263916
2023-08-07 14:21:28 INFO the response id is different, the request is new
2023-08-07 14:21:28 INFO Enter to 'recipe.request' intent
2023-08-07 14:21:28 INFO start recipe order func
2023-08-07 14:21:29 INFO Passed fill details check
2023-08-07 14:21:29 INFO meal:'Breakfast'
2023-08-07 14:21:29 INFO &mealType=Breakfast
2023-08-07 14:21:29 INFO health:''
2023-08-07 14:21:29 WARNING health is not in 'data.health_tags'.
2023-08-07 14:21:29 INFO diet:''
2023-08-07 14:21:29 WARNING diet is not in 'data.diet'.
2023-08-07 14:21:29 INFO dish:''
2023-08-07 14:21:29 WARNING dish is not in 'data.dish_types'.
2023-08-07 14:21:29 INFO &dishType=main course
2023-08-07 14:21:29 INFO Trying to send text message. content: Please wait a moment while we search for a delicious recipe just for you. It won't take long!
2023-08-07 14:21:30 INFO Successfully sent message
2023-08-07 14:21:30 INFO https://api.edamam.com/api/recipes/v2?type=public&app_id=3749f87d&app_key=191597bb0eccc02907ba8e5efb98fc8b&mealType=Breakfast&dishType=main course&random=true
2023-08-07 14:21:30 ERROR enter webhook func
2023-08-07 14:21:30 INFO request: {'responseId': '1e95423a-9e51-4d1b-9a54-367e155c61a0-75295053', 'queryResult': {'queryText': 'breakfast', 'parameters': {'Meal': 'Breakfast', 'Health': '', 'Diet': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.44386312, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3'}
2023-08-07 14:21:31 INFO start parse recipes from api func
2023-08-07 14:21:31 INFO start choose recipe func
2023-08-07 14:21:31 INFO start get liked recipes func.
2023-08-07 14:21:31 INFO finish double check. time is: 1.2069852352142334
2023-08-07 14:21:31 INFO the response id is equal, the request isn't new
2023-08-07 14:21:31 INFO 127.0.0.1 - - [07/Aug/2023 14:21:31] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:21:32 INFO start parse recipes from DB func.
2023-08-07 14:21:32 INFO start select item with probabilities func.
2023-08-07 14:21:32 INFO Ham And Cheese Crescent Snacks
2023-08-07 14:21:32 INFO start download image func
2023-08-07 14:21:32 INFO the image didn't exist in the storage, trying to download it from the web...
2023-08-07 14:21:35 INFO Image downloaded successfully!
2023-08-07 14:21:36 INFO Trying to send recipe message.
2023-08-07 14:21:37 INFO Successfully sent message
2023-08-07 14:21:37 INFO 127.0.0.1 - - [07/Aug/2023 14:21:37] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:23:46 ERROR enter webhook func
2023-08-07 14:23:46 INFO request: {'responseId': '60b39ee7-ae1d-43bd-9257-ed32db2147c2-75295053', 'queryResult': {'queryText': 'very delicious breakfast', 'parameters': {'Meal': 'Breakfast', 'Diet': 'very', 'Health': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': 'very', 'Diet.original': 'very', 'Dish_Type': '', 'Dish_Type.original': '', 'Food_Type': [], 'Food_Type.original': [], 'number': '', 'number.original': '', 'date-period': '', 'date-period.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Health': '', 'Health.original': '', 'Food_Type': [], 'Food_Type.original': [], 'number': '', 'number.original': '', 'date-period': '', 'date-period.original': '', 'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Diet': 'very', 'Diet.original': 'very', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.40357292, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3'}
2023-08-07 14:23:47 INFO finish double check. time is: 1.509812593460083
2023-08-07 14:23:47 INFO the response id is different, the request is new
2023-08-07 14:23:47 INFO Enter to 'recipe.request' intent
2023-08-07 14:23:47 INFO start recipe order func
2023-08-07 14:23:49 INFO Passed fill details check
2023-08-07 14:23:49 INFO meal:'Breakfast'
2023-08-07 14:23:49 INFO &mealType=Breakfast
2023-08-07 14:23:49 INFO health:''
2023-08-07 14:23:49 WARNING health is not in 'data.health_tags'.
2023-08-07 14:23:49 INFO diet:'very'
2023-08-07 14:23:49 WARNING diet is not in 'data.diet'.
2023-08-07 14:23:49 INFO dish:''
2023-08-07 14:23:49 WARNING dish is not in 'data.dish_types'.
2023-08-07 14:23:49 INFO &dishType=main course
2023-08-07 14:23:49 INFO Trying to send text message. content: Please wait a moment while we search for a delicious recipe just for you. It won't take long!
2023-08-07 14:23:50 INFO Successfully sent message
2023-08-07 14:23:50 INFO https://api.edamam.com/api/recipes/v2?type=public&app_id=3749f87d&app_key=191597bb0eccc02907ba8e5efb98fc8b&mealType=Breakfast&dishType=main course&random=true
2023-08-07 14:23:51 ERROR enter webhook func
2023-08-07 14:23:51 INFO request: {'responseId': '60b39ee7-ae1d-43bd-9257-ed32db2147c2-75295053', 'queryResult': {'queryText': 'very delicious breakfast', 'parameters': {'Meal': 'Breakfast', 'Diet': 'very', 'Health': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': 'very', 'Diet.original': 'very', 'Dish_Type': '', 'Dish_Type.original': '', 'Food_Type': [], 'Food_Type.original': [], 'number': '', 'number.original': '', 'date-period': '', 'date-period.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Health': '', 'Health.original': '', 'Food_Type': [], 'Food_Type.original': [], 'number': '', 'number.original': '', 'date-period': '', 'date-period.original': '', 'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Diet': 'very', 'Diet.original': 'very', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.40357292, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/iNiLM9WRGpm3'}
2023-08-07 14:23:51 INFO start parse recipes from api func
2023-08-07 14:23:51 INFO start choose recipe func
2023-08-07 14:23:51 INFO start get liked recipes func.
2023-08-07 14:23:52 INFO finish double check. time is: 1.4340612888336182
2023-08-07 14:23:52 INFO the response id is equal, the request isn't new
2023-08-07 14:23:52 INFO 127.0.0.1 - - [07/Aug/2023 14:23:52] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:23:52 INFO start parse recipes from DB func.
2023-08-07 14:23:52 INFO start select item with probabilities func.
2023-08-07 14:23:52 INFO Smoked Brie Wedge, Bacon & Mushroom Omelet
2023-08-07 14:23:52 INFO start download image func
2023-08-07 14:23:52 INFO the image didn't exist in the storage, trying to download it from the web...
2023-08-07 14:23:54 INFO Image downloaded successfully!
2023-08-07 14:23:55 INFO Trying to send recipe message.
2023-08-07 14:23:56 INFO Successfully sent message
2023-08-07 14:23:56 INFO 127.0.0.1 - - [07/Aug/2023 14:23:56] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:26:51 ERROR enter webhook func
2023-08-07 14:26:51 INFO request: {'responseId': 'b05d993d-d451-4620-85b8-44f49e7e4302-75295053', 'queryResult': {'queryText': 'breakfast', 'parameters': {'Meal': 'Breakfast', 'Health': '', 'Diet': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/ebRKOtIyNX5f/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/ebRKOtIyNX5f/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'age': '', 'age.original': '', 'weight': '', 'weight.original': '', 'height': '', 'height.original': '', 'activity': '', 'activity.original': '', 'goal': '', 'goal.original': '', 'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.44386312, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/ebRKOtIyNX5f'}
2023-08-07 14:26:53 INFO finish double check. time is: 2.263981342315674
2023-08-07 14:26:53 INFO the response id is different, the request is new
2023-08-07 14:26:53 INFO Enter to 'recipe.request' intent
2023-08-07 14:26:53 INFO start recipe order func
2023-08-07 14:26:54 INFO Failed in fill details check
2023-08-07 14:26:54 INFO 127.0.0.1 - - [07/Aug/2023 14:26:54] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:27:43 ERROR enter webhook func
2023-08-07 14:27:43 INFO request: {'responseId': '5bddc494-5cfd-4bd7-89a0-54e854e3a61e-75295053', 'queryResult': {'queryText': '3', 'parameters': {'Health': ['none'], 'Food_Type': ['none'], 'number': 3.0, 'date-period': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/ebRKOtIyNX5f/contexts/reciperequest-followup', 'lifespanCount': 1, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': ['none'], 'Health.original': ['none'], 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': '', 'Food_Type': ['none'], 'Food_Type.original': ['none'], 'number': 3.0, 'number.original': '3', 'date-period': '', 'date-period.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/ebRKOtIyNX5f/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Health': ['none'], 'Health.original': ['none'], 'Food_Type': ['none'], 'Food_Type.original': ['none'], 'number': 3.0, 'number.original': '3', 'date-period': '', 'date-period.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/69e07da3-968a-4bfd-86ee-8740c754c958', 'displayName': 'meal.planning'}, 'intentDetectionConfidence': 1.0, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/ebRKOtIyNX5f'}
2023-08-07 14:27:44 INFO finish double check. time is: 1.2777032852172852
2023-08-07 14:27:44 INFO the response id is different, the request is new
2023-08-07 14:27:44 INFO Enter to 'meal.planning' intent
2023-08-07 14:27:44 INFO start plan meal func
2023-08-07 14:27:45 INFO Failed in fill details check
2023-08-07 14:27:45 INFO 127.0.0.1 - - [07/Aug/2023 14:27:45] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:32:15 ERROR enter webhook func
2023-08-07 14:32:15 INFO request: {'responseId': '54e5123f-507e-4d92-bf1b-3d3995e6ef75-75295053', 'queryResult': {'queryText': 'recipe', 'parameters': {'Meal': '', 'Health': '', 'Diet': '', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': '', 'Meal.original': '', 'Health': '', 'Health.original': '', 'Diet': '', 'Diet.original': '', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.69298947, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl'}
2023-08-07 14:32:18 INFO finish double check. time is: 2.460300922393799
2023-08-07 14:32:18 INFO the response id is different, the request is new
2023-08-07 14:32:18 INFO Enter to 'recipe.request' intent
2023-08-07 14:32:18 INFO start recipe order func
2023-08-07 14:32:19 INFO Passed fill details check
2023-08-07 14:32:19 INFO meal:''
2023-08-07 14:32:19 WARNING meal is not in 'data.meals'.
2023-08-07 14:32:19 INFO health:''
2023-08-07 14:32:19 WARNING health is not in 'data.health_tags'.
2023-08-07 14:32:19 INFO diet:''
2023-08-07 14:32:19 WARNING diet is not in 'data.diet'.
2023-08-07 14:32:19 INFO dish:''
2023-08-07 14:32:19 WARNING dish is not in 'data.dish_types'.
2023-08-07 14:32:19 INFO 127.0.0.1 - - [07/Aug/2023 14:32:19] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:33:39 ERROR enter webhook func
2023-08-07 14:33:39 INFO request: {'responseId': '94ee8c3b-363b-45e3-8e0d-f6dd95dd98aa-75295053', 'queryResult': {'queryText': 'breakfast, low fat, low sugar, pizza', 'parameters': {'Meal': 'Breakfast', 'Health': 'Sugar-Conscious', 'Diet': 'low-fat', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': 'Sugar-Conscious', 'Health.original': 'low sugar', 'Diet': 'low-fat', 'Diet.original': 'low fat', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': 'Sugar-Conscious', 'Health.original': 'low sugar', 'Diet': 'low-fat', 'Diet.original': 'low fat', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.6809592, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl'}
2023-08-07 14:33:41 INFO finish double check. time is: 1.464036226272583
2023-08-07 14:33:41 INFO the response id is different, the request is new
2023-08-07 14:33:41 INFO Enter to 'recipe.request' intent
2023-08-07 14:33:41 INFO start recipe order func
2023-08-07 14:33:42 INFO Passed fill details check
2023-08-07 14:33:42 INFO meal:'Breakfast'
2023-08-07 14:33:42 INFO &mealType=Breakfast
2023-08-07 14:33:42 INFO health:'Sugar-Conscious'
2023-08-07 14:33:42 INFO &health=sugar-conscious
2023-08-07 14:33:42 INFO diet:'low-fat'
2023-08-07 14:33:42 INFO &diet=low-fat
2023-08-07 14:33:42 INFO dish:''
2023-08-07 14:33:42 WARNING dish is not in 'data.dish_types'.
2023-08-07 14:33:42 INFO &dishType=main course
2023-08-07 14:33:43 INFO Trying to send text message. content: Please wait a moment while we search for a delicious recipe just for you. It won't take long!
2023-08-07 14:33:43 INFO Successfully sent message
2023-08-07 14:33:43 INFO https://api.edamam.com/api/recipes/v2?type=public&app_id=3749f87d&app_key=191597bb0eccc02907ba8e5efb98fc8b&mealType=Breakfast&health=sugar-conscious&diet=low-fat&dishType=main course&random=true
2023-08-07 14:33:44 ERROR enter webhook func
2023-08-07 14:33:44 INFO request: {'responseId': '94ee8c3b-363b-45e3-8e0d-f6dd95dd98aa-75295053', 'queryResult': {'queryText': 'breakfast, low fat, low sugar, pizza', 'parameters': {'Meal': 'Breakfast', 'Health': 'Sugar-Conscious', 'Diet': 'low-fat', 'Dish_Type': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': 'Sugar-Conscious', 'Health.original': 'low sugar', 'Diet': 'low-fat', 'Diet.original': 'low fat', 'Dish_Type': '', 'Dish_Type.original': ''}}, {'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': 'Breakfast', 'Meal.original': 'breakfast', 'Health': 'Sugar-Conscious', 'Health.original': 'low sugar', 'Diet': 'low-fat', 'Diet.original': 'low fat', 'Dish_Type': '', 'Dish_Type.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.6809592, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl'}
2023-08-07 14:33:44 INFO start parse recipes from api func
2023-08-07 14:33:44 INFO start choose recipe func
2023-08-07 14:33:44 INFO start get liked recipes func.
2023-08-07 14:33:45 INFO finish double check. time is: 1.2627558708190918
2023-08-07 14:33:45 INFO the response id is equal, the request isn't new
2023-08-07 14:33:45 INFO 127.0.0.1 - - [07/Aug/2023 14:33:45] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:33:45 INFO start parse recipes from DB func.
2023-08-07 14:33:46 INFO start select item with probabilities func.
2023-08-07 14:33:46 INFO Potato and Egg Scramble
2023-08-07 14:33:46 INFO start download image func
2023-08-07 14:33:46 INFO the image didn't exist in the storage, trying to download it from the web...
2023-08-07 14:33:49 INFO Image downloaded successfully!
2023-08-07 14:33:50 INFO Trying to send recipe message.
2023-08-07 14:33:50 INFO Successfully sent message
2023-08-07 14:33:50 INFO 127.0.0.1 - - [07/Aug/2023 14:33:50] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:37:38 ERROR enter webhook func
2023-08-07 14:37:38 INFO request: {'responseId': '566a3916-0032-4c6b-95d8-53e1bb41dd3c-75295053', 'queryResult': {'queryText': 'high protein, fodmap free, lunch, pancake', 'parameters': {'Meal': 'Lunch', 'Health': 'FODMAP-Free', 'Diet': 'high-protein', 'Dish_Type': 'pancake'}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Lunch', 'Meal.original': 'lunch', 'Health': 'FODMAP-Free', 'Health.original': 'fodmap free', 'Diet': 'high-protein', 'Diet.original': 'high protein', 'Dish_Type': 'pancake', 'Dish_Type.original': 'pancake'}}, {'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': 'Lunch', 'Meal.original': 'lunch', 'Health': 'FODMAP-Free', 'Health.original': 'fodmap free', 'Diet': 'high-protein', 'Diet.original': 'high protein', 'Dish_Type': 'pancake', 'Dish_Type.original': 'pancake'}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.70697516, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl'}
2023-08-07 14:37:40 INFO finish double check. time is: 1.5684967041015625
2023-08-07 14:37:40 INFO the response id is different, the request is new
2023-08-07 14:37:40 INFO Enter to 'recipe.request' intent
2023-08-07 14:37:40 INFO start recipe order func
2023-08-07 14:37:41 INFO Passed fill details check
2023-08-07 14:37:41 INFO meal:'Lunch'
2023-08-07 14:37:41 INFO &mealType=Lunch
2023-08-07 14:37:41 INFO health:'FODMAP-Free'
2023-08-07 14:37:41 INFO &health=fodmap-free
2023-08-07 14:37:41 INFO diet:'high-protein'
2023-08-07 14:37:41 INFO &diet=high-protein
2023-08-07 14:37:41 INFO dish:'pancake'
2023-08-07 14:37:41 INFO &dishType=pancake
2023-08-07 14:37:42 INFO Trying to send text message. content: Please wait a moment while we search for a delicious recipe just for you. It won't take long!
2023-08-07 14:37:43 INFO Successfully sent message
2023-08-07 14:37:43 INFO https://api.edamam.com/api/recipes/v2?type=public&app_id=3749f87d&app_key=191597bb0eccc02907ba8e5efb98fc8b&mealType=Lunch&health=fodmap-free&diet=high-protein&dishType=pancake&random=true
2023-08-07 14:37:43 ERROR enter webhook func
2023-08-07 14:37:43 INFO request: {'responseId': '566a3916-0032-4c6b-95d8-53e1bb41dd3c-75295053', 'queryResult': {'queryText': 'high protein, fodmap free, lunch, pancake', 'parameters': {'Meal': 'Lunch', 'Health': 'FODMAP-Free', 'Diet': 'high-protein', 'Dish_Type': 'pancake'}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/reciperequest-followup', 'lifespanCount': 2, 'parameters': {'Meal': 'Lunch', 'Meal.original': 'lunch', 'Health': 'FODMAP-Free', 'Health.original': 'fodmap free', 'Diet': 'high-protein', 'Diet.original': 'high protein', 'Dish_Type': 'pancake', 'Dish_Type.original': 'pancake'}}, {'name': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Meal': 'Lunch', 'Meal.original': 'lunch', 'Health': 'FODMAP-Free', 'Health.original': 'fodmap free', 'Diet': 'high-protein', 'Diet.original': 'high protein', 'Dish_Type': 'pancake', 'Dish_Type.original': 'pancake'}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/daf34f1e-82a7-4a71-b834-d0aa5cad37a1', 'displayName': 'recipe.request'}, 'intentDetectionConfidence': 0.70697516, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/VT1wYKNU8edl'}
2023-08-07 14:37:43 INFO start parse recipes from api func
2023-08-07 14:37:43 INFO start choose recipe func
2023-08-07 14:37:43 INFO start get liked recipes func.
2023-08-07 14:37:44 INFO finish double check. time is: 1.4085640907287598
2023-08-07 14:37:44 INFO the response id is equal, the request isn't new
2023-08-07 14:37:44 INFO 127.0.0.1 - - [07/Aug/2023 14:37:44] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:37:45 INFO start parse recipes from DB func.
2023-08-07 14:37:45 INFO start select item with probabilities func.
2023-08-07 14:37:45 INFO Trying to send text message. content: I apologize, but we couldn't find a suitable recipe based on your preferences. Please try adjusting your preferences.Need help formulating your request? Check out our app's guide in the main menu for instructions.
2023-08-07 14:37:46 INFO Successfully sent message
2023-08-07 14:37:46 INFO 127.0.0.1 - - [07/Aug/2023 14:37:46] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:50:25 ERROR enter webhook func
2023-08-07 14:50:25 INFO request: {'responseId': 'cf59951c-080c-44e2-8d19-6a7d75268bb3-75295053', 'queryResult': {'queryText': '6', 'parameters': {'age': '1999-12-11T12:00:00+02:00', 'weight': '100', 'height': '180', 'activity': '1', 'goal': '6'}, 'allRequiredParamsPresent': True, 'fulfillmentText': "Something went wrong, please try again. \nWrite 'personal details' to start over.", 'fulfillmentMessages': [{'text': {'text': ["Something went wrong, please try again. \nWrite 'personal details' to start over."]}}], 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/qDIZeNrh8EAS/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'age': '1999-12-11T12:00:00+02:00', 'age.original': '12/11/1999', 'weight': '100', 'weight.original': '100', 'height': '180', 'height.original': '180', 'activity': '1', 'activity.original': '1', 'goal': '6', 'goal.original': '6'}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/c6ca3e62-b4fb-485d-b816-763ea5452378', 'displayName': 'personal_details'}, 'intentDetectionConfidence': 1.0, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/qDIZeNrh8EAS'}
2023-08-07 14:50:27 INFO finish double check. time is: 2.517397403717041
2023-08-07 14:50:27 INFO the response id is different, the request is new
2023-08-07 14:50:27 INFO Enter to 'personal_details' intent
2023-08-07 14:50:27 INFO start personal details func
2023-08-07 14:50:27 INFO start parse parameters func
2023-08-07 14:50:27 INFO age = 1999-12-11T12:00:00+02:00
2023-08-07 14:50:27 INFO weight = 100
2023-08-07 14:50:27 INFO height = 180
2023-08-07 14:50:27 INFO activity_level = level_1
2023-08-07 14:50:27 INFO purpose = Weight gain
2023-08-07 14:50:27 INFO start set calorie daily func
2023-08-07 14:50:27 INFO start get gender func
2023-08-07 14:50:30 INFO The daily calories: 2918
2023-08-07 14:50:30 ERROR enter webhook func
2023-08-07 14:50:30 INFO request: {'responseId': 'cf59951c-080c-44e2-8d19-6a7d75268bb3-75295053', 'queryResult': {'queryText': '6', 'parameters': {'age': '1999-12-11T12:00:00+02:00', 'weight': '100', 'height': '180', 'activity': '1', 'goal': '6'}, 'allRequiredParamsPresent': True, 'fulfillmentText': "Something went wrong, please try again. \nWrite 'personal details' to start over.", 'fulfillmentMessages': [{'text': {'text': ["Something went wrong, please try again. \nWrite 'personal details' to start over."]}}], 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/qDIZeNrh8EAS/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'age': '1999-12-11T12:00:00+02:00', 'age.original': '12/11/1999', 'weight': '100', 'weight.original': '100', 'height': '180', 'height.original': '180', 'activity': '1', 'activity.original': '1', 'goal': '6', 'goal.original': '6'}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/c6ca3e62-b4fb-485d-b816-763ea5452378', 'displayName': 'personal_details'}, 'intentDetectionConfidence': 1.0, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/qDIZeNrh8EAS'}
2023-08-07 14:50:31 INFO finish double check. time is: 1.450716495513916
2023-08-07 14:50:31 INFO the response id is equal, the request isn't new
2023-08-07 14:50:31 INFO 127.0.0.1 - - [07/Aug/2023 14:50:31] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:50:32 INFO Trying to send text message. content: Thank you on filling out your personal details! Now, let's get started and explore what you can do:

- Search Recipe: Find a variety of recipes tailored to your preferences and dietary needs.

- Ask for a Meal Plan: Get personalized meal plans based on your dietary requirements, preferences, and goals.

- Get Nutritional Information: Access nutritional information for various foods.

- Otherway, you can return to the home page and starting manage your Nutritional Diary. Your recommended daily calories consumption already there!

If you need help, you are welcome to visit the app's guide found in the main menu.

Start enjoying these features and have a great time using our app!
2023-08-07 14:50:33 INFO Successfully sent message
2023-08-07 14:50:33 INFO the time of personal details func is 5.105599880218506
2023-08-07 14:50:33 INFO 127.0.0.1 - - [07/Aug/2023 14:50:33] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:51:56 ERROR enter webhook func
2023-08-07 14:51:56 INFO request: {'responseId': '2235676d-1746-449e-a559-bd98464d4b59-75295053', 'queryResult': {'queryText': '3', 'parameters': {'Health': ['none'], 'Food_Type': ['none'], 'number': 3.0, 'date-period': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/g9cG0lAbkJsI/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Health': ['none'], 'Health.original': ['none'], 'Food_Type': ['none'], 'Food_Type.original': ['none'], 'number': 3.0, 'number.original': '3', 'date-period': '', 'date-period.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/69e07da3-968a-4bfd-86ee-8740c754c958', 'displayName': 'meal.planning'}, 'intentDetectionConfidence': 1.0, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/g9cG0lAbkJsI'}
2023-08-07 14:51:58 INFO finish double check. time is: 1.724909782409668
2023-08-07 14:51:58 INFO the response id is different, the request is new
2023-08-07 14:51:58 INFO Enter to 'meal.planning' intent
2023-08-07 14:51:58 INFO start plan meal func
2023-08-07 14:51:59 INFO Passed fill details check
2023-08-07 14:52:01 ERROR enter webhook func
2023-08-07 14:52:01 INFO request: {'responseId': '2235676d-1746-449e-a559-bd98464d4b59-75295053', 'queryResult': {'queryText': '3', 'parameters': {'Health': ['none'], 'Food_Type': ['none'], 'number': 3.0, 'date-period': ''}, 'allRequiredParamsPresent': True, 'outputContexts': [{'name': 'projects/hfc-app-378515/agent/sessions/g9cG0lAbkJsI/contexts/__system_counters__', 'parameters': {'no-input': 0.0, 'no-match': 0.0, 'Health': ['none'], 'Health.original': ['none'], 'Food_Type': ['none'], 'Food_Type.original': ['none'], 'number': 3.0, 'number.original': '3', 'date-period': '', 'date-period.original': ''}}], 'intent': {'name': 'projects/hfc-app-378515/agent/intents/69e07da3-968a-4bfd-86ee-8740c754c958', 'displayName': 'meal.planning'}, 'intentDetectionConfidence': 1.0, 'languageCode': 'en'}, 'originalDetectIntentRequest': {'payload': {}}, 'session': 'projects/hfc-app-378515/agent/sessions/g9cG0lAbkJsI'}
2023-08-07 14:52:01 INFO daily calories: 2650
2023-08-07 14:52:01 INFO start to make the meal plan
2023-08-07 14:52:01 INFO Trying to send text message. content: Generating your meal plan. This may take some time. Please wait.
2023-08-07 14:52:02 INFO Successfully sent message
2023-08-07 14:52:02 INFO start constraint satisfaction func
2023-08-07 14:52:02 INFO finish double check. time is: 1.247072696685791
2023-08-07 14:52:02 INFO the response id is equal, the request isn't new
2023-08-07 14:52:02 INFO 127.0.0.1 - - [07/Aug/2023 14:52:02] "POST /webhook HTTP/1.1" 200 -
2023-08-07 14:52:20 INFO finish day 0, find three pepper and goat cheese frittata, simple cold salmon and caper pizza, olive oil poached tuna melts,
2023-08-07 14:52:25 INFO finish day 1, find masala mackerel with cumin spiced mushy peas, chilli and vegetable frittata, chicken with forty cloves,
2023-08-07 14:52:32 INFO finish day 2, find butternut squash macaroni and cheese, bbq crunch burger, baked french toast casserole,
2023-08-07 14:52:32 INFO ****************
2023-08-07 14:52:32 INFO This is the result of meal plan for 3 days.
the input was: health labels = [], forbidden foods = [].
2023-08-07 14:52:33 INFO day number1:
2023-08-07 14:52:33 INFO recipe name: three pepper and goat cheese frittata
2023-08-07 14:52:33 INFO recipe health labels:
2023-08-07 14:52:33 INFO ['Sugar-Conscious', 'Vegetarian', 'Pescatarian', 'Mediterranean', 'Gluten-Free', 'Wheat-Free', 'Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Fish-Free', 'Shellfish-Free', 'Pork-Free', 'Red-Meat-Free', 'Crustacean-Free', 'Celery-Free', 'Mustard-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Alcohol-Free', 'Sulfite-Free', 'Kosher']
2023-08-07 14:52:33 INFO recipe ingredients:
2023-08-07 14:52:33 INFO ['vegetables', 'jalapeno', 'red bell pepper', 'yellow bell pepper', 'onion', 'eggs', 'dried oregano', 'Salt', 'pepper', 'goat cheese', 'fresh basil', 'cilantro', 'parsley', 'avocado']
2023-08-07 14:52:34 INFO recipe name: simple cold salmon and caper pizza
2023-08-07 14:52:34 INFO recipe health labels:
2023-08-07 14:52:34 INFO ['Sugar-Conscious', 'Low Potassium', 'Kidney-Friendly', 'Pescatarian', 'Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Shellfish-Free', 'Pork-Free', 'Red-Meat-Free', 'Crustacean-Free', 'Celery-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Alcohol-Free', 'Sulfite-Free', 'Kosher']
2023-08-07 14:52:34 INFO recipe ingredients:
2023-08-07 14:52:34 INFO ['smoked salmon', 'cream cheese', 'mayonnaise', 'dill', 'dressing mix', 'capers', 'dough']
2023-08-07 14:52:35 INFO recipe name: olive oil poached tuna melts
2023-08-07 14:52:35 INFO recipe health labels:
2023-08-07 14:52:35 INFO ['Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Crustacean-Free', 'Mustard-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Alcohol-Free', 'Sulfite-Free', 'Kosher']
2023-08-07 14:52:35 INFO recipe ingredients:
2023-08-07 14:52:35 INFO ['olive oil', 'fresh thyme', 'lemon', 'bay leaves', 'garlic', 'celery', 'red onion', 'chile pepper', 'sweet pepper', 'pitted black olives', 'parsley', 'capers', 'fresh tarragon', 'seasoning', 'white Cheddar', 'Brioche']
2023-08-07 14:52:36 INFO calories of the day:2454.9328583194997
2023-08-07 14:52:36 INFO ************
2023-08-07 14:52:36 INFO day number2:
2023-08-07 14:52:36 INFO recipe name: masala mackerel with cumin spiced mushy peas
2023-08-07 14:52:36 INFO recipe health labels:
2023-08-07 14:52:36 INFO ['Pescatarian', 'Egg-Free', 'Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Shellfish-Free', 'Pork-Free', 'Red-Meat-Free', 'Crustacean-Free', 'Celery-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Alcohol-Free', 'Sulfite-Free', 'Kosher']
2023-08-07 14:52:36 INFO recipe ingredients:
2023-08-07 14:52:36 INFO ['mackerel', 'cumin', 'ground cinnamon', 'ground cloves', 'garlic', 'black pepper', 'salt', 'chilli powder', 'turmeric', 'sunflower oil', 'unsalted butter', 'vine tomatoes', 'coriander', 'flour', 'milk', 'lemon juice', 'cumin seeds', 'mustard seeds', 'peas', 'unsalted butter', 'Salt', 'Black pepper']
2023-08-07 14:52:37 INFO recipe name: chilli and vegetable frittata
2023-08-07 14:52:37 INFO recipe health labels:
2023-08-07 14:52:37 INFO ['Vegetarian', 'Pescatarian', 'Mediterranean', 'Gluten-Free', 'Wheat-Free', 'Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Fish-Free', 'Shellfish-Free', 'Pork-Free', 'Red-Meat-Free', 'Crustacean-Free', 'Celery-Free', 'Mustard-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Alcohol-Free', 'Sulfite-Free', 'Kosher']
2023-08-07 14:52:37 INFO recipe ingredients:
2023-08-07 14:52:37 INFO ['potatoes', 'olive oil', 'red onion', 'garlic', 'capsicum', 'capsicum', 'chillies', 'cheddar cheese', 'eggs', 'cream', 'chilli', 'fresh coriander']
2023-08-07 14:52:38 INFO recipe name: chicken with forty cloves
2023-08-07 14:52:38 INFO recipe health labels:
2023-08-07 14:52:38 INFO ['Sugar-Conscious', 'Mediterranean', 'Dairy-Free', 'Egg-Free', 'Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Fish-Free', 'Shellfish-Free', 'Pork-Free', 'Red-Meat-Free', 'Crustacean-Free', 'Celery-Free', 'Mustard-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Kosher']
2023-08-07 14:52:38 INFO recipe ingredients:
2023-08-07 14:52:38 INFO ['chicken leg', 'garlic', 'Grigio', 'fresh thyme', 'all purpose flour', 'Olive oil', 'Sea salt', 'black pepper']
2023-08-07 14:52:39 INFO calories of the day:2457.7502668228867
2023-08-07 14:52:39 INFO ************
2023-08-07 14:52:39 INFO day number3:
2023-08-07 14:52:39 INFO recipe name: butternut squash macaroni and cheese
2023-08-07 14:52:39 INFO recipe health labels:
2023-08-07 14:52:39 INFO ['Sugar-Conscious', 'Kidney-Friendly', 'Vegetarian', 'Pescatarian', 'Egg-Free', 'Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Fish-Free', 'Shellfish-Free', 'Pork-Free', 'Red-Meat-Free', 'Crustacean-Free', 'Celery-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Alcohol-Free', 'Sulfite-Free', 'Kosher']
2023-08-07 14:52:39 INFO recipe ingredients:
2023-08-07 14:52:39 INFO ['rotini', 'fat-free milk', 'butternut squash', 'Cheddar cheese', 'salt', 'dry mustard', 'pepper', 'parmesan', 'bread crumbs']
2023-08-07 14:52:40 INFO recipe name: bbq crunch burger
2023-08-07 14:52:40 INFO recipe health labels:
2023-08-07 14:52:40 INFO ['Dairy-Free', 'Peanut-Free', 'Tree-Nut-Free', 'Soy-Free', 'Fish-Free', 'Shellfish-Free', 'Pork-Free', 'Crustacean-Free', 'Celery-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Alcohol-Free', 'Sulfite-Free', 'Kosher']
2023-08-07 14:52:40 INFO recipe ingredients:
2023-08-07 14:52:40 INFO ['Mayonnaise', 'red onions', 'Barbecue Sauce', 'ground beef', 'hamburger buns', 'potato chips']
2023-08-07 14:52:41 INFO recipe name: baked french toast casserole
2023-08-07 14:52:41 INFO recipe health labels:
2023-08-07 14:52:41 INFO ['Vegetarian', 'Pescatarian', 'Peanut-Free', 'Soy-Free', 'Fish-Free', 'Shellfish-Free', 'Pork-Free', 'Red-Meat-Free', 'Crustacean-Free', 'Celery-Free', 'Mustard-Free', 'Sesame-Free', 'Lupine-Free', 'Mollusk-Free', 'Kosher']
2023-08-07 14:52:41 INFO recipe ingredients:
2023-08-07 14:52:41 INFO ['French bread', 'Butter', 'eggs', 'half-and-half', 'milk', 'sugar', 'vanilla extract', 'ground cinnamon', 'ground nutmeg', 'salt', 'butter', 'light brown sugar', 'pecans', 'light corn syrup', 'ground cinnamon', 'ground nutmeg', 'raspberry preserves', 'water', 'raspberry liqueur']
2023-08-07 14:52:41 INFO calories of the day:2476.1563694207766
2023-08-07 14:52:41 INFO ************

2023-08-07 14:52:41 INFO Trying to send meal plan message. current message number: 1
2023-08-07 14:52:42 INFO Successfully sent message
2023-08-07 14:52:42 INFO Trying to send meal plan message. current message number: 2
2023-08-07 14:52:42 INFO Successfully sent message
2023-08-07 14:52:42 INFO Trying to send meal plan message. current message number: 3
2023-08-07 14:52:43 INFO Successfully sent message
2023-08-07 14:52:43 INFO Trying to send meal plan message. current message number: 4
2023-08-07 14:52:43 INFO Successfully sent message
2023-08-07 14:52:43 INFO Trying to send meal plan message. current message number: 5
2023-08-07 14:52:43 INFO Successfully sent message
2023-08-07 14:52:43 INFO Trying to send meal plan message. current message number: 6
2023-08-07 14:52:44 INFO Successfully sent message
2023-08-07 14:52:44 INFO Trying to send meal plan message. current message number: 7
2023-08-07 14:52:44 INFO Successfully sent message
2023-08-07 14:52:44 INFO Trying to send meal plan message. current message number: 8
2023-08-07 14:52:45 INFO Successfully sent message
2023-08-07 14:52:45 INFO Trying to send meal plan message. current message number: 9
2023-08-07 14:52:45 INFO Successfully sent message
2023-08-07 14:52:45 INFO Trying to send text message. content: We noticed that your recommended daily calorie intake is higher than 2650 calories. For now, we've set the plan to 2650 calories a day.
If you feel you need more calories, you can add extra portions from the meals in the plan or incorporate other food resources to meet your desired intake.
2023-08-07 14:52:46 INFO Successfully sent message
2023-08-07 14:52:46 INFO Trying to send text message. content: Please note that this meal plan is a recommendation and intended to provide you with ideas and inspiration. Feel free to customize it according to your preferences and dietary needs. You can mix and match the days, adjust the ingredients, and even substitute recipes. The goal is to make it work for you and your lifestyle. Enjoy experimenting and creating your personalized meal plan!
2023-08-07 14:52:46 INFO Successfully sent message
2023-08-07 14:52:46 INFO Total time: 44.985243797302246 seconds
2023-08-07 14:52:46 INFO 127.0.0.1 - - [07/Aug/2023 14:52:46] "POST /webhook HTTP/1.1" 200 -
2023-08-07 16:48:00 INFO Running job "morning_not (trigger: cron[day_of_week='mon-sun', hour='16', minute='48'], next run at: 2023-08-07 16:48:00 IDT)" (scheduled at 2023-08-07 16:48:00+03:00)
2023-08-07 16:48:00 INFO Sending morn note. The time is: 2023-08-07 16:48:00.028142
2023-08-07 16:48:03 ERROR Job "morning_not (trigger: cron[day_of_week='mon-sun', hour='16', minute='48'], next run at: 2023-08-08 16:48:00 IDT)" raised an exception
Traceback (most recent call last):
  File "C:\Users\User\PycharmProjects\HFC-Server\venv\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/User/PycharmProjects/HFC-Server/server.py", line 93, in morning_notification
    send_morning_notification(usersDB)
  File "C:\Users\User\PycharmProjects\HFC-Server\notifications.py", line 29, in send_morning_notification
    token = document_snapshot.get('token')
  File "C:\Users\User\PycharmProjects\HFC-Server\venv\lib\site-packages\google\cloud\firestore_v1\base_document.py", line 487, in get
    nested_data = field_path_module.get_nested_value(field_path, self._data)
  File "C:\Users\User\PycharmProjects\HFC-Server\venv\lib\site-packages\google\cloud\firestore_v1\field_path.py", line 239, in get_nested_value
    raise KeyError(msg)
KeyError: "'token' is not contained in the data"
